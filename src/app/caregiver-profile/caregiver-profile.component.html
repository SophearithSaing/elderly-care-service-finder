<!-- <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link"  routerLink="/caregiver-home">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" routerLink="/caregiver-profile">Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link"  routerLink="/requests">Requests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/services', caregiverEmail]"
        routerLinkActive="router-link-active">Services</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/calendar', caregiverEmail]"
        routerLinkActive="router-link-active">Schedule</a>
      </li>
    </ul>
  </div>
</nav> -->

<nav _ngcontent-vuo-c3="" class="navbar navbar-expand-lg">
  <div _ngcontent-vuo-c3="" class="collapse navbar-collapse" id="navbarNavDropdown">
    <div class="header-logo">
      <img
        src="https://scontent.fbkk12-2.fna.fbcdn.net/v/t1.0-9/79731930_137989890973179_6631381564599042048_n.png?_nc_cat=104&_nc_ohc=KPi8-ipnoqsAQnH6PyVV_Tdfqn0EIo9Thh2OSloW_ETyslvY78sLBCk_A&_nc_ht=scontent.fbkk12-2.fna&oh=96636c40577e051798bef5ac5c7d4404&oe=5E68D64D">
    </div>
    <ul _ngcontent-vuo-c3="" class="navbar-nav">
      <li _ngcontent-vuo-c3="" class="nav-item"><a _ngcontent-vuo-c3="" class="nav-link"
          routerLink="/caregiver-home">Home <span _ngcontent-vuo-c3="" class="sr-only">(current)</span></a></li>
      <li _ngcontent-vuo-c3="" class="nav-item active"><a _ngcontent-vuo-c3="" class="nav-link"
          routerLink="/caregiver-profile">Profile</a></li>
      <li _ngcontent-vuo-c3="" class="nav-item"><a _ngcontent-vuo-c3="" class="nav-link"
          routerLink="/requests">Requests</a></li>
      <li _ngcontent-vuo-c3="" class="nav-item"><a _ngcontent-vuo-c3="" class="nav-link"
          [routerLink]="['/services', caregiverEmail]" routerLinkActive="router-link-active">Services</a></li>
      <li _ngcontent-vuo-c3="" class="nav-item"><a _ngcontent-vuo-c3="" class="nav-link"
          [routerLink]="['/calendar', caregiverEmail]" routerLinkActive="router-link-active">Schedule</a></li>
      <li _ngcontent-vuo-c3="" class="nav-item"><a _ngcontent-vuo-c3="" class="nav-link"
          [routerLink]="['/caregiver-history', caregiverEmail]" routerLinkActive="router-link-active">History</a></li>
      <li _ngcontent-vuo-c3="" class="nav-item"><a _ngcontent-vuo-c3="" class="nav-link" routerLink="/home">Logout</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container mt-5">
  <mat-spinner *ngIf="isLoading"></mat-spinner>
  <mat-card class="example-card" *ngIf="!isLoading">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image">
        <img src={{imagePath}} alt="" style="height: 100%; width: 100%;">
      </div>
      <mat-card-title>{{name}}</mat-card-title>
      <mat-card-subtitle>Age: {{age}}, Gender: {{gender}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p class="lead"><b>Address: </b>{{houseNumber}} {{street}} {{subDistrict}} {{district}} {{province}}
        {{postalCode}}
      </p>
      <p class="lead"><b>Email: </b>{{caregiverEmail}}</p>
      <p class="lead"><b>Tel: </b>{{phoneNumber}}</p>
    </mat-card-content>
    <!-- <mat-card-actions>
      <button mat-button>LIKE</button>
      <button mat-button>SHARE</button>
    </mat-card-actions> -->
  </mat-card>
  <!-- <h1 class="display-4">{{name}}</h1>
  <p class="lead"><b>Age: </b> <b>Gender: </b>{{gender}}</p> -->

  <button type="submit" class="btn btn-primary mt-5" (click)="edit()" *ngIf="!isLoading">EDIT</button>

  <mat-card class="mt-5" *ngIf="!isLoading">
    <mat-card-header>
      <mat-card-title>Work Experiences</mat-card-title>
      <!-- <mat-card-subtitle></mat-card-subtitle> -->
      <button class="btn btn-success" id="add" (click)="add()">Add</button>
    </mat-card-header>
    <mat-card-content>
      <div class="row" *ngFor="let item of experiences, let i = index">
        <div class="col-md-4">
          <mat-form-field appearance="outline" class="w100">
            <mat-label>Work Place</mat-label>
            <input matInput *ngIf="item.editing === true" [(ngModel)]="item.workplace">
            <input matInput [(ngModel)]="item.workplace" readonly *ngIf="item.editing !== true">
          </mat-form-field>
        </div>
        <div class="col-md-2">
          <mat-form-field appearance="outline" class="mr-5 w100" *ngIf="item.editing === true">
            <mat-label>Start Month</mat-label>
            <mat-select [(value)]="item.startMonth">
              <mat-option *ngFor="let item of months" value="{{item}}"> {{item}} </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline" class="mr-5 w100" *ngIf="item.editing !== true">
            <mat-label>Start Month</mat-label>
            <mat-select [(value)]="item.startMonth">
              <mat-option value="{{item.startMonth}}"> {{item.startMonth}} </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-2">
          <mat-form-field appearance="outline" class="w100" *ngIf="item.editing === true">
            <mat-label>Start Year</mat-label>
            <mat-select [(value)]="item.startYear">
              <mat-option *ngFor="let item of years" value="{{item}}"> {{item}} </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline" class="mr-5 w100" *ngIf="item.editing !== true">
            <mat-label>Start Month</mat-label>
            <mat-select [(value)]="item.startYear">
              <mat-option value="{{item.startYear}}"> {{item.startYear}} </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-2">
          <mat-form-field appearance="outline" class="mr-5 w100" *ngIf="item.editing === true">
            <mat-label>Stop Month</mat-label>
            <mat-select [(value)]="item.stopMonth">
              <mat-option *ngFor="let item of months" value="{{item}}"> {{item}} </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline" class="mr-5 w100" *ngIf="item.editing !== true">
            <mat-label>Stop Month</mat-label>
            <mat-select [(value)]="item.stopMonth">
              <mat-option value="{{item.stopMonth}}"> {{item.stopMonth}} </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-2">
          <mat-form-field appearance="outline" class="w100" *ngIf="item.editing === true">
            <mat-label>Stop Year</mat-label>
            <mat-select [(value)]="item.stopYear">
              <mat-option *ngFor="let item of years" value="{{item}}"> {{item}} </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline" class="w100" *ngIf="item.editing !== true">
            <mat-label>Stop Year</mat-label>
            <mat-select [(value)]="item.stopYear">
              <mat-option value="{{item.stopYear}}"> {{item.stopYear}} </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <!-- <button class="btn btn-warning mb-3" data-toggle="modal" data-target="#edit" (click)="setValue(i)">Edit</button> -->
          <button class="btn btn-warning mb-3" (click)="setValue(i)" *ngIf="item.editing === undefined || item.editing === null || item.editing === false">Edit</button>
          <button class="btn btn-success mb-3 mr-3" (click)="saveValue()" *ngIf="item.editing === true">Save</button>
          <button class="btn btn-danger mb-3" (click)="cancelEdit(i)" *ngIf="item.editing === true">Cancel</button>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
<!--
  <mat-card>
    <mat-card-header>
      <mat-card-title>Work Experiences</mat-card-title>
      <button class="btn btn-success" id="add" (click)="add()">Add</button>
    </mat-card-header>
    <mat-card-content>
      <div class="col-md-4 mb-3" *ngIf="certificate.value !== ''">
        <img src={{certificate.value}} alt="" style="width: 75%; height: 100%;">
      </div>
      <div class="col-md-4 mb-3" *ngIf="certificatePreview !== '' && certificatePreview">
        <img [src]="certificatePreview" alt="" style="width: 75%; height: 100%;">
      </div>
      <div class="custom-file col-md-4">
        <input type="file" class="custom-file-input" (change)="onCertificatePicked($event)">
        <label class="custom-file-label" for="validatedCustomFile">Upload Image</label>
      </div>
    </mat-card-content>
  </mat-card> -->
</div>

<!-- Modal -->
<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Edit Experience</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-12">
              <mat-form-field appearance="outline" class="w100">
                <mat-label>Work Place</mat-label>
                <input matInput value="{{workplace}}">
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <mat-form-field appearance="outline" class="mr-5 w100">
                <mat-label>Start Month</mat-label>
                <mat-select>
                  <mat-option *ngFor="let item of months" value="{{item}}"> {{item}} </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w100">
                <mat-label>Start Year</mat-label>
                <mat-select>
                  <mat-option *ngFor="let item of years" value="{{item}}"> {{item}} </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="mr-5 w100">
                <mat-label>Stop Month</mat-label>
                <mat-select>
                  <mat-option *ngFor="let item of months" value="{{item}}"> {{item}} </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w100">
                <mat-label>Stop Year</mat-label>
                <mat-select>
                  <mat-option *ngFor="let item of years" value="{{item}}"> {{item}} </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" data-dismiss="modal" (click)="saveValue()">Save Changes</button>
      </div>
    </div>
  </div>
</div>
