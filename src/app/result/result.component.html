<div class="mt-5">
  <h1 class="text-center new-font">Matched Results</h1>
  <div class="container" *ngFor="let item of matches">
    <mat-accordion class="example-headers-align">
      <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-description>
            <!-- Currently using {{panelOpenState ? 'New Services' : 'Default Services'}} -->
            <!-- <div mat-card-avatar class="example-header-image"></div> -->
            <div class="new-font">
              <!-- Name -->
              {{item.name}}
            </div>
            <!-- <div class="new-font"> -->

            <!-- </div> -->
            <div class="new-font">
              {{item.percentage}}%
            </div>
            <div>
              <mat-icon *ngFor="let item of stars">star</mat-icon>
              <mat-icon *ngIf="halfStar === true">star_half</mat-icon>
            </div>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <div class="row">

        <div class="col-md-8">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image">
                <img src="{{item.imagePath}}" alt="" style="height: 100%; width: 100;">
              </div>
              <div class="new-font">
                <mat-card-title>{{item.name}}</mat-card-title>
                <mat-card-subtitle>{{item.subDistrict}}, {{item.postalCode}}</mat-card-subtitle>
              </div>
            </mat-card-header>
            <mat-card-content>
              <p>
                Age: {{item.birthDate}}
                <br>
                Gender: {{item.gender}}
                <br>
                Address: {{item.houseNumber}}, {{item.street}}, {{item.subDistrict}}, {{item.district}},
                {{item.province}}
                <br><br>

                Services:
                  <br>
                  Daily Care: {{item.services.dailyCare}}
                  <br>
                  Special Care: {{item.services.specialCare}}
                <br><br>

                Prices:
                <br>
                  Daily Price: {{item.dailyPrice}}
                <br>
                  Monthly Price: {{item.monthlyPrice}}
                <br><br>

                Email: {{item.email}}
                <br>
                Phone Number: {{item.phoneNumber}}
                <br><br>
                Experience: {{item.experience}}
                <br>
                <!-- Certification:  -->
                <br><br>
                <!-- Availability:
                <mat-card-content *ngFor="let i of item.schedule">
                  <mat-checkbox>
                    From {{i.startDate}}
                    <br>
                    To {{i.stopDate}}
                  </mat-checkbox>
                </mat-card-content> -->
              </p>
            </mat-card-content>
            <mat-card-actions>
              <mat-checkbox #interview (click)="toggle(!interview.checked)">Require Interview</mat-checkbox>
            </mat-card-actions>
            <mat-card-actions>
              <button class="btn btn-success" type="button" data-toggle="modal"
                data-target="#exampleModal" (click)="setValue(item.email, item.name)">REQUEST</button>
            </mat-card-actions>
          </mat-card>
        </div>
        <div class="col-md-4" >
          <div *ngFor="let item of reviews">
            <mat-card class="mb-3">
              <div class="new-font">
                <mat-card-title>
                  From {{item.reviewer}}
                </mat-card-title>
                <mat-card-subtitle>
                  {{item.rating}} stars
                </mat-card-subtitle>
              </div>
              <mat-card-content class="new-font">
                {{item.review}}
              </mat-card-content>
            </mat-card>
          </div>
        </div>


      </div> <!-- end row -->

      </mat-expansion-panel>
    </mat-accordion>



    <!-- end of loop -->
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title new-font" id="exampleModalLabel">Confirmation</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body new-font">
      Are You Sure You Want to Send Request to {{caregiverName}}?
    </div>
    <div class="modal-footer">
      <button type="button" class="btn" id="cancel" data-dismiss="modal">Cancel</button>
      <button type="button" class="btn btn-success" data-toggle="modal" data-target="#confirmed" (click)="request()">Confirm</button>
    </div>
  </div>
</div>
</div>

<div class="modal fade" id="confirmed" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title new-font" id="exampleModalLabel">Confirmed</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body new-font">
      Your Request Has Been Sent.
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="reload()">Okay</button>
    </div>
  </div>
</div>
</div>

